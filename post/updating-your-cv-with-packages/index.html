<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Updating Your CV with Packages - Dr. Erin Buchanan</title>
  <meta name="description" content="Hi guys! I have finally done it! I updated my CV with Rmarkdown using Steve&#39;s Markdown Templates. I was tempted to use the new vitae package, but I had already gone down this path before that came out, just finally getting back to it.
Link to the entire CV folder for you to use/view do stuff with: CV. Please ignore the html files in that folder, it does &ldquo;knit&rdquo; automatically as part of the website build using markdown - you should be using PDF and LaTex for the CV part.">
  <meta name="author" content="aggieerin.com"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Dr. Erin Buchanan",
    
    "url": "https:\/\/doomlab.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/doomlab.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/doomlab.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/doomlab.github.io\/post\/updating-your-cv-with-packages\/",
          "name": "Updating your c v with packages"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Erin Buchanan"
  },
  "headline": "Updating Your CV with Packages",
  "description" : "Hi guys! I have finally done it! I updated my CV with Rmarkdown using Steve\x27s Markdown Templates. I was tempted to use the new vitae package, but I had already gone down this path before that came out, just finally getting back to it.\nLink to the entire CV folder for you to use\/view do stuff with: CV. Please ignore the html files in that folder, it does \x26ldquo;knit\x26rdquo; automatically as part of the website build using markdown - you should be using PDF and LaTex for the CV part.",
  "inLanguage" : "en",
  "wordCount":  1863 ,
  "datePublished" : "2019-04-03T00:00:00",
  "dateModified" : "2019-04-03T00:00:00",
  "image" : "https:\/\/doomlab.github.io\/img\/header.jpg",
  "keywords" : [ "rstudio, research, how-to" ],
  "mainEntityOfPage" : "https:\/\/doomlab.github.io\/post\/updating-your-cv-with-packages\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/doomlab.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/doomlab.github.io\/img\/header.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Updating Your CV with Packages" />
<meta property="og:description" content="Hi guys! I have finally done it! I updated my CV with Rmarkdown using Steve&#39;s Markdown Templates. I was tempted to use the new vitae package, but I had already gone down this path before that came out, just finally getting back to it.
Link to the entire CV folder for you to use/view do stuff with: CV. Please ignore the html files in that folder, it does &ldquo;knit&rdquo; automatically as part of the website build using markdown - you should be using PDF and LaTex for the CV part.">
<meta property="og:image" content="https://doomlab.github.io/img/header.jpg" />
<meta property="og:url" content="https://doomlab.github.io/post/updating-your-cv-with-packages/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Dr. Erin Buchanan" />

  <meta name="twitter:title" content="Updating Your CV with Packages" />
  <meta name="twitter:description" content="Hi guys! I have finally done it! I updated my CV with Rmarkdown using Steve&#39;s Markdown Templates. I was tempted to use the new vitae package, but I had already gone down this path before that came …">
  <meta name="twitter:image" content="https://doomlab.github.io/img/header.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@aggieerin" />
  <meta name="twitter:creator" content="@aggieerin" />
  <link href='https://doomlab.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.62.2" />
  <link rel="alternate" href="https://doomlab.github.io/index.xml" type="application/rss+xml" title="Dr. Erin Buchanan"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://doomlab.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://doomlab.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://doomlab.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">




  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://doomlab.github.io">Dr. Erin Buchanan</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Blog</a>
              <div class="navlinks-children">
                
                  <a href="/post">Blog</a>
                
                  <a href="/tags">Tags</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Stats" href="/page/stats/">Stats</a>
            </li>
          
        
          
            <li>
              <a title="Shiny" href="/shiny/">Shiny</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Vita</a>
              <div class="navlinks-children">
                
                  <a href="/page/basics">Basics</a>
                
                  <a href="/page/honors">Honors</a>
                
                  <a href="/page/res_overview">Research Overview</a>
                
                  <a href="/page/res_pubs">Pubs</a>
                
                  <a href="/page/res_grants">Grants</a>
                
                  <a href="/page/res_pres">Pres</a>
                
                  <a href="/page/teach_overview">Teaching Overview</a>
                
                  <a href="/page/students">Students</a>
                
                  <a href="/page/service">Service</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="OSF" href="https://osf.io/4ivpc/">OSF</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Dr. Erin Buchanan" href="https://doomlab.github.io">
            <img class="avatar-img" src="https://doomlab.github.io/img/header.jpg" alt="Dr. Erin Buchanan" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Updating Your CV with Packages</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on April 3, 2019
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;9&nbsp;minutes
  
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Erin Buchanan
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Hi guys! I have finally done it! I updated my CV with Rmarkdown using <a href="https://github.com/svmiller/svm-r-markdown-templates">Steve's Markdown Templates</a>. I was tempted to use the new <code>vitae</code> package, but I had already gone down this path before that came out, just finally getting back to it.</p>
<p>Link to the entire CV folder for you to use/view do stuff with: <a href="https://github.com/doomlab/doomlab.github.io/tree/master/cv">CV</a>. Please ignore the html files in that folder, it does &ldquo;knit&rdquo; automatically as part of the website build using markdown - you should be using PDF and LaTex for the CV part.</p>
<p>I decided to do my publications + presentations as an Excel database type file, rather than using a BibTex file. Partially because I dislike BibTex type things, and partially because I like being able to update papers and such as part of a R script (with a little bit of manual control). The slowest part of this process was putting all my current pubs and presentations into the Excel document with my coding system. Let's look at it:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="nf">library</span><span class="p">(</span><span class="n">readxl</span><span class="p">)</span>
<span class="n">curated</span> <span class="o">=</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="nf">read_excel</span><span class="p">(</span><span class="s">&#34;</span><span class="s">../cv/cv_pubs.xlsx&#34;</span><span class="p">)</span><span class="p">)</span>
<span class="nf">names</span><span class="p">(</span><span class="n">curated</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">##  [1] &#34;done&#34;       &#34;doi&#34;        &#34;title&#34;      &#34;osfdoi&#34;     &#34;author&#34;    
##  [6] &#34;journal&#34;    &#34;volume&#34;     &#34;issue&#34;      &#34;pages&#34;      &#34;year&#34;      
## [11] &#34;pubid&#34;      &#34;put-code&#34;   &#34;pubtype&#34;    &#34;pubstatus&#34;  &#34;authortype&#34;
## [16] &#34;category&#34;   &#34;link&#34;
</code></pre></div><p>So, I have coded &ldquo;real&rdquo; dois (digital object identifiers, like the ones from journals), the title of the paper/prez, the Open Science Framework doi, authors, journal/conference information, volume, issue, pages, and year for citation purposes. Next, I included information from Google Scholar (<code>pubid</code>) and ORCID (<code>put-code</code>). These are useful for updating information, see below. The last was hand coded pubtype (package, article, presentation), pubstatus (published, preprint), authortype (none, under for undergraduate authors, grad for graduate authors, and both), category (psycho and stats), and link for finding the paper or presentation (open science FTW!). I added these categories to be able to format my CV with different groupings based on the current status of a paper, the type of paper (psychological/cognitive science versus statistics), and include a marker of what type of authors there are (hint: loads of students working with me). I use these columns to dynamically create my CV and some of the website pages, since this information updates somewhat frequently. You can view that by looking at the cv markdown, which I can blog about another time.</p>
<p>This post is about how to update your CV with Scholar and ORCID - but using these packages directly gives you a LOT of nonsense (mostly because I don't spend all data updating the information to be correct on either of these sites, nor do I control what the heck CrossRef/doi.org does when they input the information for dois). Once you have at least one thing entered into an file, you can use this script to update your information, and see what is out there on these two big indexing sites. You would need accounts with Google/ORCID, and I highly recommend both of them to scholars. I have my ORCID to cross reference with CrossRef to add/update entries, and Google Scholar automatically adds all my OSF pre-prints to my site. They also combine references when it's clear they are the same one (like an OSF page for a project, the journal page for the same paper, etc.).</p>
<p>Start by importing your information from each site:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1"># pull information from scholar ---------------------------------------------</span>
<span class="nf">library</span><span class="p">(</span><span class="n">scholar</span><span class="p">)</span>
<span class="n">erinpubs</span> <span class="o">=</span> <span class="nf">get_publications</span><span class="p">(</span><span class="s">&#34;</span><span class="s">ReD-s38AAAAJ&amp;hl&#34;</span><span class="p">,</span> <span class="c1">#my scholar id</span>
                 <span class="n">cstart</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span> <span class="c1">#get everything</span>
                 <span class="n">pagesize</span> <span class="o">=</span> <span class="m">1000</span><span class="p">,</span> <span class="c1">#max amount of things to get</span>
                 <span class="n">flush</span> <span class="o">=</span> <span class="bp">F</span><span class="p">)</span> <span class="c1">#caching parameter</span>

<span class="c1"># pull information from orcid ---------------------------------------------</span>
<span class="nf">library</span><span class="p">(</span><span class="n">rorcid</span><span class="p">)</span>
<span class="n">erinorc</span> <span class="o">=</span> <span class="nf">works</span><span class="p">(</span><span class="nf">orcid_id</span><span class="p">(</span><span class="s">&#34;</span><span class="s">0000-0002-9689-4189&#34;</span><span class="p">)</span><span class="p">)</span> <span class="c1">#my orcid</span>
<span class="c1">#note you will have to authorize your orcid for each folder you use this file in</span>
</code></pre></div><p>Each of these creates a data.frame with different pieces of information - I encourage you to investigate your own. The next thing I did was set up the ORC pages to merge with the Scholar pages. Unfortunately, the ORCID one pulls in a column that's a list within each cell, so I converted that into a doi (the only variable I wanted) column separately.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1"># set up dois -------------------------------------------------------------</span>

<span class="c1">#blank doi spot</span>
<span class="n">erinorc</span><span class="o">$</span><span class="n">doi</span> <span class="o">=</span> <span class="kc">NA</span> 

<span class="c1">#loop over the list to get just the dois</span>
<span class="nf">for </span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">erinorc</span><span class="p">)</span><span class="p">)</span><span class="p">{</span>
  
  <span class="c1">#grab the list</span>
  <span class="n">temp</span> <span class="o">=</span> <span class="n">erinorc</span><span class="o">$</span><span class="n">`external-ids.external-id`</span><span class="n">[</span><span class="n">[i</span><span class="n">]</span><span class="n">]</span>
  
  <span class="c1">#see if the doi is there </span>
  <span class="nf">if </span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="nf">length</span><span class="p">(</span><span class="n">temp</span><span class="n">[</span> <span class="n">temp</span><span class="o">$</span><span class="n">`external-id-type`</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">doi&#34;</span> <span class="p">,</span>  <span class="s">&#34;</span><span class="s">external-id-value&#34;</span> <span class="n">]</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">erinorc</span><span class="o">$</span><span class="n">doi</span><span class="n">[i</span><span class="n">]</span> <span class="o">=</span> <span class="n">temp</span><span class="n">[</span> <span class="n">temp</span><span class="o">$</span><span class="n">`external-id-type`</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">doi&#34;</span> <span class="p">,</span>  <span class="s">&#34;</span><span class="s">external-id-value&#34;</span> <span class="n">]</span>
    <span class="p">}</span> <span class="c1">#close if, this handles no dois and multiple ids</span>

  <span class="p">}</span> <span class="c1">#close for loop</span>

<span class="c1">#take out the duplicates</span>
<span class="n">erinorc</span> <span class="o">=</span> <span class="n">erinorc</span><span class="n">[</span><span class="o">!</span><span class="nf">duplicated</span><span class="p">(</span><span class="n">erinorc</span><span class="o">$</span><span class="n">title.title.value</span><span class="p">)</span> <span class="p">,</span> <span class="n">]</span>
</code></pre></div><p>Now that we have the two datasets and have extracted the dois, let's merge them together.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1"># merge two pub lists -----------------------------------------------------</span>

<span class="n">erinorc</span><span class="o">$</span><span class="n">title</span> <span class="o">=</span> <span class="n">erinorc</span><span class="o">$</span><span class="n">title.title.value</span>
<span class="n">final</span> <span class="o">=</span> <span class="nf">merge</span><span class="p">(</span><span class="n">erinpubs</span><span class="p">,</span> <span class="n">erinorc</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#34;</span><span class="s">title&#34;</span><span class="p">,</span> <span class="n">all</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</code></pre></div><p>The last piece here is to compare that with my curated list. First, I pulled out all the specific ids that Scholar and ORCID have given my paper. Sometimes, they get multiple ids, so I included them in my curated excel file by doing something like: <code>id1, id2</code>, which makes them easy to split up later.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1"># compare with curated list -------------------------------------------------</span>
<span class="n">c_pubid</span> <span class="o">=</span> <span class="nf">na.omit</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">strsplit</span><span class="p">(</span><span class="nf">gsub</span><span class="p">(</span><span class="s">&#34;</span><span class="s"> &#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">curated</span><span class="o">$</span><span class="n">pubid</span><span class="p">)</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">,&#34;</span><span class="p">)</span><span class="p">)</span><span class="p">)</span>
<span class="n">c_putcode</span> <span class="o">=</span> <span class="nf">na.omit</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">strsplit</span><span class="p">(</span><span class="nf">gsub</span><span class="p">(</span><span class="s">&#34;</span><span class="s"> &#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">curated</span><span class="o">$</span><span class="n">`put-code`</span><span class="p">)</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">,&#34;</span><span class="p">)</span><span class="p">)</span><span class="p">)</span>
<span class="n">f_pubid</span> <span class="o">=</span> <span class="nf">na.omit</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">strsplit</span><span class="p">(</span><span class="nf">gsub</span><span class="p">(</span><span class="s">&#34;</span><span class="s"> &#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">as.character</span><span class="p">(</span><span class="n">final</span><span class="o">$</span><span class="n">pubid</span><span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">,&#34;</span><span class="p">)</span><span class="p">)</span><span class="p">)</span>
<span class="n">f_putcode</span> <span class="o">=</span> <span class="nf">na.omit</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">strsplit</span><span class="p">(</span><span class="nf">gsub</span><span class="p">(</span><span class="s">&#34;</span><span class="s"> &#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">final</span><span class="o">$</span><span class="n">`put-code`</span><span class="p">)</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">,&#34;</span><span class="p">)</span><span class="p">)</span><span class="p">)</span>
</code></pre></div><p>Next, I compared those to the actual ones in Scholar and ORCID:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1">#find ones that aren&#39;t in the curated set from google</span>
<span class="n">google_diff</span> <span class="o">=</span> <span class="nf">setdiff</span><span class="p">(</span><span class="n">f_pubid</span><span class="p">,</span> <span class="n">c_pubid</span><span class="p">)</span>

<span class="c1">#find ones that aren&#39;t in the curated set from orcid</span>
<span class="n">orc_diff</span> <span class="o">=</span> <span class="nf">setdiff</span><span class="p">(</span><span class="n">f_putcode</span><span class="p">,</span> <span class="n">c_putcode</span><span class="p">)</span>

<span class="n">newrows</span> <span class="o">=</span> <span class="n">final</span><span class="n">[</span> <span class="n">final</span><span class="o">$</span><span class="n">pubid</span> <span class="o">%in%</span> <span class="n">google_diff</span> <span class="o">|</span> 
                   <span class="n">final</span><span class="o">$</span><span class="n">`put-code`</span> <span class="o">%in%</span> <span class="n">orc_diff</span><span class="p">,</span> <span class="n">]</span>

<span class="c1">#create an output for cutting and pasting</span>
<span class="n">curated_check</span> <span class="o">=</span> <span class="nf">matrix</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="nf">nrow</span><span class="p">(</span><span class="n">newrows</span><span class="p">)</span><span class="p">,</span> <span class="n">ncol</span> <span class="o">=</span> <span class="nf">ncol</span><span class="p">(</span><span class="n">curated</span><span class="p">)</span><span class="p">)</span>
<span class="nf">colnames</span><span class="p">(</span><span class="n">curated_check</span><span class="p">)</span> <span class="o">=</span> <span class="nf">colnames</span><span class="p">(</span><span class="n">curated</span><span class="p">)</span>
<span class="n">curated_check</span> <span class="o">=</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="n">curated_check</span><span class="p">)</span>

<span class="n">curated_check</span><span class="o">$</span><span class="n">doi</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">doi</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">title</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">title</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">author</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">author</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">journal</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">journal</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">volume</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">number</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">year</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">year</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">pubid</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">pubid</span>
<span class="n">curated_check</span><span class="o">$</span><span class="n">`put-code`</span> <span class="o">=</span> <span class="n">newrows</span><span class="o">$</span><span class="n">`put-code`</span>

<span class="c1">#write.csv(curated_check, &#34;check_these.csv&#34;, row.names = F)</span>
</code></pre></div><p><code>setdiff</code> takes the ones that are in the final dataset (f) but aren't in the curated dataset (c). Then I grabbed the rows in the final dataset that were in the &ldquo;haven't seen these yet&rdquo; pile using <code>%in%</code>. <code>newrows</code> is a list of information found in both of these services that aren't in your CV. I use the word &ldquo;new&rdquo; loosely here. Let's see what it found, as I've just updated my cv.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="n">newrows</span><span class="o">$</span><span class="n">title</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">## [1] Acknowledgment to our Reviewers                                                                       
## [2] Acknowledgment to Reviewers                                                                           
## [3] Development of a Patient Reported Outcome Measure Evaluating Meaningful Response to Migraine Treatment
## [4] Getting started creating data dictionaries                                                            
## [5] Justify Your Alpha                                                                                    
## [6] State of Science Paper Guide                                                                          
## [7] The Language of War: A Replication and Extension of Abe (2012) and Matsumoto Et Al.(2015)             
## 150 Levels: “Textisms”: The comfort of the recipient. ...
</code></pre></div><p>These three are 1) OSF page for an Accelerated CREP I am on, but I haven't added it yet to my CV because it's a bit early to be sharing (i.e., waiting until there's more of real paper there), 2) a &ldquo;preprint&rdquo; project we did for one of my classes, and 3) I have no idea, since that doi is linked to APA's website, which I don't have access to. Probably a doi for a conference presentation, but I don't really know or care much. I could exclude these from future searches by adding a line to my curated excel sheet that includes these pubids and put-codes. Because I use the pubtype columns to print things out on my CV, they would get ignored as things not to print.</p>
<p>This next part is set up to help me figure out when articles actually go to press to update their volume information, but you could change the next bit of code to find any differences in your information you might be interested in. Scholar does give you citation rates, but that's not really my thing to track (however, for some folks working at institutions that do care, you could update that over time using something like this code).</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1">#update any X or XX that were place holders for the pages</span>
<span class="n">temp</span> <span class="o">=</span> <span class="nf">na.omit</span><span class="p">(</span><span class="n">curated</span><span class="n">[</span> <span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;</span><span class="s">pubid&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">volume&#34;</span><span class="p">)</span><span class="n">]</span><span class="p">)</span>
<span class="n">update</span> <span class="o">=</span> <span class="n">temp</span><span class="o">$</span><span class="n">pubid</span><span class="n">[temp</span><span class="o">$</span><span class="n">volume</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">X&#34;</span><span class="n">]</span>

<span class="n">final</span><span class="n">[final</span><span class="o">$</span><span class="n">pubid</span> <span class="o">%in%</span> <span class="n">update</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;</span><span class="s">title&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">number&#34;</span><span class="p">)</span><span class="n">]</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">##                                                                                                                           title
## 8                                                                  A practical primer on processing semantic property norm data
## 29                                           Differential Effects of Association and Semantics on Priming and Memory Judgments.
## 39                                                        Generativity and other buffers of death awareness in first responders
## 46                        How the Presence of Others Affects Desirability Judgments in Heterosexual and Homosexual Participants
## 66 Modeling resilience, meaning in life, posttraumatic growth, and disaster preparedness with two samples of tornado survivors.
## 85             Valued Living in Daily Experience: Relations with Mindfulness, Meaning, Psychological Flexibility, and Stressors
##    number
## 8    1-13
## 29       
## 39   1-14
## 46   1-11
## 66       
## 85   1-11
</code></pre></div><p>None of these have new volume or page numbers, so I am good to go here. Because I have this as an excel sheet, I can do some fun visualizations:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>

<span class="nf">ggplot</span><span class="p">(</span><span class="n">curated</span><span class="n">[</span> <span class="n">curated</span><span class="o">$</span><span class="n">pubtype</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">article&#34;</span> <span class="o">&amp;</span> <span class="n">curated</span><span class="o">$</span><span class="n">pubstatus</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">published&#34;</span><span class="p">,</span> <span class="n">]</span><span class="p">,</span>
       <span class="nf">aes</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="p">)</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_histogram</span><span class="p">(</span><span class="n">stat</span> <span class="o">=</span> <span class="s">&#34;</span><span class="s">count&#34;</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">theme_bw</span><span class="p">(</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_vline</span><span class="p">(</span><span class="n">xintercept</span> <span class="o">=</span> <span class="m">2008</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_vline</span><span class="p">(</span><span class="n">xintercept</span> <span class="o">=</span> <span class="m">2010</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#34;</span><span class="s">blue&#34;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_vline</span><span class="p">(</span><span class="n">xintercept</span> <span class="o">=</span> <span class="m">2014</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#34;</span><span class="s">maroon&#34;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_vline</span><span class="p">(</span><span class="n">xintercept</span> <span class="o">=</span> <span class="m">2018</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#34;</span><span class="s">green&#34;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;</span><span class="s">Pub Count&#34;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">xlab</span><span class="p">(</span><span class="s">&#34;</span><span class="s">Year&#34;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">## Warning: Ignoring unknown parameters: binwidth, bins, pad
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Publication rates over years don't always make sense to me because often the year something is &ldquo;published&rdquo; is one to two years after it was finally accepted - and let's not even talk about how long that can take sometimes to get from just submitted to accepted. But it's fun to look at sometimes &hellip; major career events are marked on the graph:</p>
<ul>
<li>Black: finished Ph.D., got a teaching type position</li>
<li>Blue: moved to a tenure track position</li>
<li>Maroon: Assistant to Associate Professor, tenured</li>
<li>Green: changed jobs and was hired as a full Professor</li>
</ul>
<p>Graduate school was not the smoothest adventure for me, which is a story best left for in person communication &hellip; and you can see that it affected my ability to publish in my early years (if we want to consider ourselves the whole of our output rates, which I think is dumb). The other interesting part about this graph is the middle period between my tenure and now &hellip; that's another story best left for in person communication. Sometimes life makes science difficult and these were definitely difficult years job-wise.</p>
<p>A more important graph for me (if we focus solely again on publications) is this:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="n">curated</span><span class="o">$</span><span class="n">authortype</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">curated</span><span class="o">$</span><span class="n">authortype</span><span class="p">,</span> 
                            <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;</span><span class="s">none&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">under&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">grad&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">both&#34;</span><span class="p">)</span><span class="p">,</span>
                            <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;</span><span class="s">Just PhDs&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">Undergraduates&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">Graduates&#34;</span><span class="p">,</span> <span class="s">&#34;</span><span class="s">Both&#34;</span><span class="p">)</span><span class="p">)</span>

<span class="nf">ggplot</span><span class="p">(</span><span class="n">curated</span><span class="n">[</span> <span class="n">curated</span><span class="o">$</span><span class="n">pubtype</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">article&#34;</span> <span class="o">&amp;</span> <span class="n">curated</span><span class="o">$</span><span class="n">pubstatus</span> <span class="o">==</span> <span class="s">&#34;</span><span class="s">published&#34;</span><span class="p">,</span> <span class="n">]</span><span class="p">,</span>
       <span class="nf">aes</span><span class="p">(</span><span class="n">authortype</span><span class="p">)</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_histogram</span><span class="p">(</span><span class="n">stat</span> <span class="o">=</span> <span class="s">&#34;</span><span class="s">count&#34;</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">theme_bw</span><span class="p">(</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;</span><span class="s">Pub Count&#34;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">xlab</span><span class="p">(</span><span class="s">&#34;</span><span class="s">Authorship Type&#34;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">## Warning: Ignoring unknown parameters: binwidth, bins, pad
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Students are a priority! Thank you for coming to my TED talk. I don't even know that I could graph the conference presentations in a good way, but it follows the same trend. And that's a much better statistic to be proud of than counts per year.</p>
<p>Hope you can use these code bits to help with your bean counting - questions welcome and more on the markdown template later.</p>


        
          <div class="blog-tags">
            
              <a href="https://doomlab.github.io/tags/rstudio/">rstudio</a>&nbsp;
            
              <a href="https://doomlab.github.io/tags/research/">research</a>&nbsp;
            
              <a href="https://doomlab.github.io/tags/how-to/">how-to</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://doomlab.github.io/post/line-endings-are-dumb/" data-toggle="tooltip" data-placement="top" title="Line Endings Are Dumb">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://doomlab.github.io/post/multilevel-modeling-workshop-materials/" data-toggle="tooltip" data-placement="top" title="Multilevel Modeling Workshop Materials">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "aggieerin" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:buchananlab@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/doomlab" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/aggieerin" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/channel/UCMdihazndR0f9XBoSXWqnYg" title="Youtube">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="http://www.aggieerin.com">aggieerin.com</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://doomlab.github.io">Dr. Erin Buchanan</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.62.2</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://doomlab.github.io/js/main.js"></script>
<script src="https://doomlab.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://doomlab.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

